<!--This HTML is used in the render function to build the elements within the plugin. The render function first creates a
Dijit ContentPane to hold all the elements. The ContentPane is assigned a dynamic id upon creation. The render function
takes the ContentPane id and prepends it to every element with a declared id in this HTML before the elements are created.
The unique ContentPane id makes all the element ids unique and prevents duplicate id errors across other apps.-->


<div class="sidebar-content claro">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#dijit_layout_ContentPane_0glance" aria-controls="glance" role="tab" data-toggle="tab" id="glanceTab">At a Glance</a></li>
        <li role="presentation"><a href="#dijit_layout_ContentPane_0explore" aria-controls="explore" role="tab" data-toggle="tab" id="exploreTab">Explore</a></li>
        <li role="presentation"><a href="#dijit_layout_ContentPane_0custom" aria-controls="custom" role="tab" data-toggle="tab" id="customTab">Custom Analysis</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="glance">
            <h2 class="sidebar-content-heading">At a Glance</h2>
            <div>
                <p>Select a watershed to get some quick facts about the state of aquatic connectivity in that watershed.</p>
            </div>
            <section>
                <div class="bp_lightGrayDiv1">
                    <h3 style="text-align:center; margin:5px;">Select a Watershed</h3>
                    <div class="bp_flexColHCenter">
                        <div class="chosen-wrap" style="margin-bottom:10px;">
                            <select data-placeholder="Penobscot" id="glanceZoom" class="chosen">
                                <option value="Penobscot">Penobscot Basin</option>
                                <option value="West Branch Penobscot">West Branch</option>
                                <option value="East Branch Penobscot">East Branch</option>
                                <option value="Mattawamkeag">Mattawamkeag</option>
                                <option value="Piscataquis">Piscataquis</option>
                                <option value="Lower Penobscot">Lower Penobscot</option>
                                <option value="Maine Coastal">Coastal</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>
            <section>
                <div class="bp_glanceStats" id="glanceDamDiv">
                    <img src="plugins/barrier-prioritization-v3/images/damStatsIcon.PNG" width="75" style="padding-top: 10px;" alt="Number of dams">   
                    <div class="bp_glanceStatsContainer">    
                        <h2 id="glanceDams">152</h2>
                        <h3>Number of Dams</h3>
                        
                    </div>
                    <div class="bp_glanceStatsContainerRight">
                        <img src="plugins/barrier-prioritization-v3/images/rightArrow.PNG" height="30" > 
                    </div>
                </div>
            </section>
            <section>
                <div class="bp_glanceStats" id="glanceXingDiv">
                    <img src="plugins/barrier-prioritization-v3/images/xingStatsIcon.PNG" width="75" style="padding-top: 10px;" alt="Number of crossings">
                    <div class="bp_glanceStatsContainer">    
                        <h2 id="glanceXings">1,955</h2>
                        <h3>Number of Crossings</h3>
                    </div>
                    <div class="bp_glanceStatsContainerRight">
                        <img src="plugins/barrier-prioritization-v3/images/rightArrow.PNG" height="30" > 
                    </div>
                </div>
            </section>
            <section>
                <div class="bp_glanceStats" id="glanceNetworkDiv">
                    <img src="plugins/barrier-prioritization-v3/images/netStatsIcon.PNG" width="75" style="padding-top: 10px;" alt="Connected network length">
                    <div class="bp_glanceStatsContainer">    
                        <h2 id="glanceNetworks">4.86 Miles</h2>
                        <h3>Avg Network Length</h3>
                    </div>
                    <div class="bp_glanceStatsContainerRight">
                        <img src="plugins/barrier-prioritization-v3/images/rightArrow.PNG" height="30" > 
                    </div>
               </div>
            </section>
        </div>
        <div role="tabpanel" class="tab-pane" id="explore">
            <section>
                <h2 class="sidebar-content-heading" style="margin:2px;">Explore Prioritized Barriers</h2>
                <div class="bp_lightGrayDiv2">
                    <h3 style="text-align:center; margin:5px;">Select a Watershed & Prioritization Scenario</h3>
                    <div class="bp_flexRowHCenter" >
                        <div class="bp_flexColHCenter">
                            <div class="chosen-wrap" style="margin:5px;">
                                <select data-placeholder="Penobscot" id="exploreZoom" class="chosen">
                                    <option value="Penobscot">Penobscot Basin</option>
                                    <option value="West Branch Penobscot">West Branch</option>
                                    <option value="East Branch Penobscot">East Branch</option>
                                    <option value="Mattawamkeag">Mattawamkeag</option>
                                    <option value="Piscataquis">Piscataquis</option>
                                    <option value="Lower Penobscot">Lower Penobscot</option>
                                    <option value="Maine Coastal">Coastal</option>
                                </select>
                            </div>
                        </div>
                        <div class="bp_flexColHCenter">
                            <div class="chosen-wrap" style="margin:5px;">
                                <select data-placeholder="Scenario" id="exploreScenario" class="chosen">
                                    <option value="Diadromous">Diadromous</option>
                                    <option value="Resident">Brook Trout</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bp_lightGrayDiv1">
                    <p style="text-align: center; margin-bottom: 1px;">Choose to display priorities relative to the entire watershed or the selected subwatershed.</p>
                    <div class="bp_flexRowHCenter">
                        <div class="bp_flexColHCenter">
                            <label class="form-component" for="stratify-region">
                                <input checked type="radio" value="stratify-region" id="stratify-region" name="stratify">
                                <div class="check"></div>
                                <span class="form-text">Watershed</span>
                            </label>
                        </div>
                        <div class="bp_flexColHCenter">
                            <label class="form-component" for="stratify-subregion">
                                <input type="radio" value="stratify-subregion" id="stratify-subregion" name="stratify">
                                <div class="check"></div>
                                <span class="form-text">Subwatershed</span>
                            </label>
                        </div>    
                    </div>
                </div>
                <div class="accord" style="margin-top:5px;">
                    <div id="mainAccord" style="height: calc(100vh - 350px);">
                    <h3>Assess a Barrier</h3>
                    <div class="bp_flexColumn">
                        <div class="bp_flexColumn" style="width: 100%">
                            <div id="consensusResultContainer" class="bp_flex">
                                <div  style="flex: 1;">
                                    <div class="bp_flexRow"><p style="font-weight: 700">Name:  &nbsp</p><p id="clickBarrierName">Crossing 2253</p></div>
                                </div>
                                <div  style="width: 100px;" >
                                    <div class="bp_flexRow"><p style="font-weight: 700">ID: &nbsp</p><p id="clickBarrierID">2253</p></div>                            
                                </div>

                            </div>
                            <div id="consensusResultContainer" class="bp_flex">
                                <div  style="flex: 1;">
                                    <div class="bp_flexRow"><p style="font-weight: 700">Type:  &nbsp</p><p id="clickBarrierType">Crossing</p></div>
                                </div>
                                <div  style="width: 100px;" >
                                    <div class="bp_flexRow"><p style="font-weight: 700">Result Tier: &nbsp</p><p id="clickBarrierTier">5</p></div>                            
                                </div>

                            </div>
                        </div>
                        <div class="bp_lightGrayDiv1" >
                            <div class="bp_flexRightAlignContents">
                                <button class="button button-default" id="expandSelectMetrics" style="padding: 2px;">Edit Metrics <i class="fa fa-gear"></i></button>
                            </div>           
                            <div id="selectClickMetricsContainer">
                                <div class="chosen-wrap" style="margin-bottom:10px">
                                    <select data-placeholder=" " id="selectClickMetrics" multiple="true" class="chosen">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <div id="metricSliderContainer">
                                <div class="bp_flex" style="width:100%;">
                                    <div style="flex: 1; padding-left:10px;"><p>Good</p></div>
                                    <div style="width:50px"><p>Bad</p></div>
                                </div>
                                <div id="metricSliderParent" class="bp_flexColHCenter">
<!--                                    <div class="slider-container" style="width:250px;">
                                        <div class="slider metricSlider"></div>
                                    </div>-->
                                </div>
                            </div>
                        </div>
                    </div>
                    <h3>Filter the Results</h3>
                    <div>
                        <p>Lorem ipsum dolor sit amet, consectetur...</p>
                        <p>Ut enim ad minim veniam, quis nostrud...</p>
                        <p>Duis aute irure dolor in reprehenderit...</p>
                        <p>Lorem ipsum dolor sit amet, consectetur...</p>
                        <p>Ut enim ad minim veniam, quis nostrud...</p>
                    </div>
                    <h3>Layers</h3>
                    <div>
                        <p>At vero eos et accusamus et iusto odio...</p>
                    </div>
                    <h3>Documentation</h3>
                    <div>
                        <p>At vero eos et accusamus et iusto odio...</p>
                    </div>  
                </div>
            </section>
            </div>
            <div role="tabpanel" class="tab-pane" id="custom">
            <h2 class="sidebar-content-heading">Custom Analysis</h2>
            <section>
                <h3>Radios</h3>
                <div>
                    <label class="form-component" for="a-option">
                        <input checked type="radio" id="a-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">Pizza</span>
                    </label>
                    <label class="form-component" for="b-option">
                        <input type="radio" id="b-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">BBQ</span>
                    </label>
                    <label class="form-component" for="x-option">
                        <input type="radio" disabled id="x-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">Apple</span>
                    </label>
                </div>
            </section>
            <section>
                <h3>Pills</h3>
                <div>
                    <label class="form-component radio-pill" for="e-option">
                        <input checked type="radio" id="e-option" name="pill">
                        <div class="check"></div>
                        <span class="form-text">Pill 1</span>
                    </label>
                    <label class="form-component radio-pill" for="f-option">
                        <input type="radio" id="f-option" name="pill">
                        <div class="check"></div>
                        <span class="form-text">Pill 2</span>
                    </label>
                </div>
            </section>
            <section>
                <h3>Checkboxes</h3>
                <div>
                    <label class="form-component" for="c-option">
                        <input checked type="checkbox" id="c-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">Guacamole</span>
                    </label>
                    <label class="form-component disabled" for="z-option">
                        <input type="checkbox" id="z-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">Salsa</span>
                    </label>
                    <label class="form-component" for="y-option">
                        <input disabled type="checkbox" id="y-option" name="food">
                        <div class="check"></div>
                        <span class="form-text">Cheese</span>
                    </label>
                </div>
            </section>
        </div>
       
    </div>

<!--<div id="mainAccord" class="flex1 hide">
	<h3 id="exploreConsensusAccord" class="exploreConsensus">Explore the Consensus Anadromous Results</h3>
        <link href="../css/main.css" rel="stylesheet" type="text/css"/>
	<section id="exploreConsensusSection">
		<div class="bp_flexColHCenter">
			<h4 id="stateStatsExpander" class="bp_expander ">Barrier Summary by Watershed <span class="bp_expand">-</span></h4> 
			<div id="stateStatsContainer" class="bp_flexColHCenter zoomState">
				<p><br/>Zoom to a watershed to view its barriers</p>
				<div class="bp_flexColHCenter">
					<div class="chosen-wrap" style="margin-bottom:10px;">
						<select data-placeholder="Penobscot" id="zoomState" class="chosen">
							<option value="Region">Penobscot Basin</option>
							<option value="West Branch">West Branch</option>
							<option value="East Branch">East Branch</option>
							<option value="Mattawamkeag">Mattawamkeag</option>
							<option value="Piscataquis">Piscataquis</option>
							<option value="Lower Penobscot">Lower Penobscot</option>
							<option value="Coastal">Coastal</option>
						</select>
					</div>
				</div>
				<div class="bp_flexColHCenter">
					<div id="barChartDams"><label for="barChartDams"># Dams</label></div>	
					<div id="barChartCrossings"><label id="xingBarChartLabel" for="barChartCrossings"># Road-Stream Crossings</label></div>	
					<div id="barChartAvgNetwork"><label  for="barChartAvgNetwork">Avg Upstream Network (miles)</label></div>
				</div>
			</div>
		</div>
		<div class="bp_flexColHCenter">
			<div id="clickInstructions" class="bp_strong"><br><br>Click on a barrier to visualize its data and expose additional functionality</div>
			<div><h4 id="consensusRadarBlockExpander" style="display:inline" class="bp_expander">Assess a barrier <span class="bp_expand">-</span></h4><img src="plugins/barrier-prioritization-v3/images/info.png" alt="Learn how to interpret this information" title="Learn how to interpret this information" class="infoIcon" id="-consensusRadarBlockInfo"> </div>
			
			<div id="consensusRadarBlockContainer" class="bp_flexColHCenter">
				<div id="consensusRadarContainer" class="bp_flexColHCenter">
					
					<p id="radarHeader" align="center"></p>
					<div id="consensusRadar" class="bp_flexColHCenter"></div>
				</div>
				<h6 id="radarMetricChangerOpenExpander" class="bp_expanderOpen bp_grayText">Change the metrics that are displayed +</h6>
				<div id="radarMetricChangerOpenContainer">
					<div class="chosen-wrap" style="margin-bottom:10px;">
						<select data-placeholder="Select radar plot attributes" id="selectRadarAttrs" multiple="true" class="chosen">
							<option value=""></option>
						</select>
					</div>
				</div>
				<p style="text-align:center">View a <a href="plugins/barrier-prioritization-v3/images/Metric_Glossary.pdf" target="_blank"><strong>glossary of the metrics</strong></a> or <a href="plugins/barrier-prioritization-v3/images/Abbreviations.pdf" target="_blank"><strong>list of abbreviations</strong></a></p>
			</div>
		</div>

		<div class="bp_flexColHCenter">
			<h4 id="consensusResultFiltersExpander" class="bp_expander">Filter the Results in the Map <span class="bp_expand">+</span></h4> 
			<div id="consensusResultFiltersContainer" class="bp_flexColHCenter bp_flexBottom">
				<div class="bp_flexColHCenter">
					<h4 id="consensusResultFilterSliderTierOpenExpander" class="bp_expanderOpen bp_grayText">Filter the Results by Tier <span class="bp_expand bp_grayText">+</span></h4> 
					<div id="consensusResultFilterSliderTierOpenContainer" class="bp_flexColHCenter">
						<p>Use the slider to show only the results that are within a range of result Tier values</p>
						<div class="slider-container range-slider bp_flexColHCenter" style="width:275px;">
							<div id="consensusResultFilterSliderTier" class="slider" style="width:275px;"></div>
							<div style="text-align:center; margin-top:10px;">
								<span class="blueFont" id="consFiltMax">20</span> - <span class="blueFont" id="consFiltMin">1</span>
							</div>
						</div>
					</div>
				</div>
				
				<div class="bp_flexColHCenter">
					<h4 id="consensusResultFilterSliderSeverityOpenExpander" class="bp_expanderOpen bp_grayText">Filter the Results by Barrier Severity <span class="bp_expand bp_grayText">+</span></h4>
					<div id="consensusResultFilterSliderSeverityOpenContainer" class="bp_flexColHCenter">
						<p>Use the slider to show only barriers within a range of severities</p>
						<div class="slider-container range-slider bp_flexColHCenter" style="width:275px;">
							<div id="consensusResultFilterSliderSeverity" class="slider" style="width:275px;"></div>
							<div style="text-align:center; margin-top:10px;">
								<span class="blueFont" id="consSevMin">Insignificant</span> - <span class="blueFont" id="consSevMax">Severe</span>
							</div>
						</div>
					</div>
				</div>
				
				<div class="bp_flexColHCenter">
				    <h4 id="consensusResultCustomFilterOpenExpander"  style="display:inline" class="bp_expanderOpen bp_grayText">Build a Custom Filter <span class="bp_expand bp_grayText">+</span></h4>
				    <div id="consensusResultCustomFilterOpenContainer">
				    	<p>Build a custom filter to limit the barriers that are shown in the map.  For example "Town" = 'Millinocket' would only show barriers in within Millinocket.  To use multiple values use the IN operator, as in "Town" in ('Millinocket', 'Medway')</p>
						<div class="chosen-wrap" style="margin-bottom:10px;">
							<select data-placeholder="Filter By..." id="filterConsensusResultsField" class="chosen"  title="Filter the results...">
								<option></option>
							</select>
					        <select id="filterConsensusResultsOperator" class="chosen" style="width:50px" data-placeholder="=" title="Enter an operator to define the relationship between the attribute and value.  Be sure to use IN or NOT IN if multiple values are used.">
									<option value=""></option>
						            <option value="=">=</option>
						            <option value=">">&gt;</option>
						            <option value="<">&lt;</option>
						            <option value=">=">&ge;</option>
						            <option value="<=">&le;</option>
						            <option value="IN">IN</option>
						            <option value="NOT IN">NOT IN</option>
						            <option value="LIKE">LIKE</option>
					        </select>
					        <select id="filterConsensusResultsValue" class="chosen"  multiple="true" style="width:100px" data-placeholder="Values..." title="Select a value to filter by. Must use the "IN" operator if selecting multiple values">
					            <option value=""></option>
					        </select>
					        <div class="bp_flexRowHCenter">
						    	<input  id="resultsConsensusFilter" class="bp_textInput" type="text" placeholder="e.g. "AvgTier" = 1" value=""  title="Enter an ArcGIS-compliant definition query to filter the results of the analysis."/>​
							</div>
							<div class="bp_flexRowHCenter bp_flexNoWrap">
								<button class="button button-primary bp_button" type="button" id="applyResultConsensusFilterButton"  title="Click to filter the results of the analysis">Apply Filter</button>
								
							</div>
							
						</div>
					</div>
				</div>
				<div class="bp_flexColHCenter">
					<button class="button button-primary bp_button" type="button" id="clearResultConsensusFilterButton" title="Click to clear the filter">Clear Filters</button>
				</div>
			</div>
		</div>
		
		<div class="bp_flexColHCenter">
			<h4 id="additionalLayersExpander" class="bp_expander">Layers <span class="bp_expand">+</span></h4> 
			<div id="additionalLayersContainer" class="bp_flexColHCenter">
				<div class="additionalLayers" id="additionalLayers">
					<div class="description" id="additionalLayersDesc">Learn more about your area of interest by selecting from these additional information layers.<br><br>		
					</div>
						<div class="layer" id="toggleBarriers">
							<label class="form-component">
								<input type="checkbox" data-layer="barriers" id="barriers">
								<div class="check"></div>
								<span class="form-text">Barriers</span> 
							</label>
							<span class="fa fa-info-circle info" title="Prioritized dams and road stream crossings"></span>
							<div class="bp_transparency-control" data-layer="barriers" id="barrierstransp" data-opacity="100">
								<span class="bp_transparency-header">Transparency</span>
								<div class="bp_transparency-label"><span class="value">100%</span></div>
								<div class="bp_transparency-slider">
									<div class="slider"></div>
								</div>
							</div>
						</div>					
				</div>
			</div>
		</div>
		
		<div class="bp_flexColHCenter bp_footerContainer">
			<button class="button button-primary bp_footerButton" id="dlConsensus" >Download Anadromous Prioritization</button>
		</div>
	
	</section>
	

</div> 

<div id="infoAccord" class="flex1">
	<h3 class="infoDoc">Welcome</h3>
	<div class="explainWrap" style="display:block;">
		<h4 style="text-align:center">Welcome to the Penobscot Habitat Focus Area barrier prioritization tool</h4>
		<figure >
			<img src="plugins/barrier-prioritization-v3/images/dam.jpg" ></img>
			<figcaption style="font-size:10px">Dam on the Presumpscot River, Maine.  &copy; Paul Noble Photography <a href="https://creativecommons.org/licenses/by-nc-nd/2.0/">Flickr Creative Commons</a>.</figcaption>
		</figure>
		<p>
			<strong>The fragmentation </strong>of river habitats through dams and poorly functioning culverts is one of the primary threats to aquatic species in the United States.  The impact of fragmentation on aquatic species generally involves loss of access to quality habitat for one or more life stages of a species.  For example, dams and impassable culverts limit the ability of anadromous fish species to reach preferred freshwater spawning habitats from the sea and prevent brook trout populations from reaching thermal refuges. 
		</p> 
		<br/>
		<p>
			This app can be used to explore the barriers to aquatic connectivity -- dams and road stream crossings -- in the Penobscot River Basin, Maine.  
		</p>
		<figure >
			<img src="plugins/barrier-prioritization-v3/images/culverts.png" ></img>
			<figcaption style="font-size:10px">Culverts showing different kinds connectivity problems including outlet drop, high water velocity, low water depth, flowconstriction and inlet drop.  &copy; <a href="https://streamcontinuity.org/">NAACC</a>.</figcaption>
		</figure>
		<p>
			Begin by clicking the "Start Using Aquatic Barrier Prioritization" button above.  Then select a state to see a sumamry of the status of aquatic connectivity in that state based on the number of dams and road-stream crossings and the average length of the connected river network that results from these barriers.
		</p>
		<br/>
		<p>
			Click on an individual barrier to get a summary of its ecological attribtues.  A subset of the available attribtues were used to develop a multi-stakeholder consensus prioritization for anadromous fish like American shad, river herring, and Atlantic salmon. 
		</p>
		<br/>

	</div> 
	<h3 class="consensusRadarBlockInfo">Interpreting the barrier data &amp; results</h3>
	<div class="explainWrap">
		<p>
			When a barrier is clicked, the name of the barrier, it's unqiue identifier, the severity of the barrier (passability), and the result Tier from the consensus anadormous prioritization scneario are displayed.  A Tier 1 barrier is the highest priorty -- most potential gained from a passage restoration project -- while a Tier 20 barrier is the lowest priority.
		</p>
		<br/>
		<p>
			Additionally, a "radar" plot of the barrier's attributes is displayed.  This radar plot is designed to provide a quick and intuitive way to visualize the qualities of that barrier.  Each attribute is arranged so that values that are desirable in a passage restoration project are at the margin of the plot.  For example, a barrier that has the potential to open up 200 miles of habitat would have a value towards the margin of the plot since opening up a lot of upstream abitat is desirable in a passage restoration project for anadromous fish.  Likewise a barrier with 0% impervious surface in its watershed would have a a value at the margin of the plot since no impervious surface (urban paved landcover) is a proxy for good quality.
		</p>
		<div class="bp_flexColHCenter"><img src="plugins/barrier-prioritization-v3/images/radar.png"></div>
		<p>
			The axes of the radar plot are normalized relative to the other barriers.  Thus, using the example from above, if the "best" barrier has 2% impervious surface in its watershed, it would have its value at the margin of the plot.  Hovering over the red dot that denotes the value will display the real-world value for that metric.
		</p>
	</div>-->

</div>
